#include "ShrubberyCreationForm.hpp"
#include "AForm.hpp"
#include "Bureaucrat.hpp"
#include <fstream>

ShrubberyCreationForm::~ShrubberyCreationForm() {}

ShrubberyCreationForm::ShrubberyCreationForm(std::string target) : AForm("Shruberry", 145, 137), target(target) {}

ShrubberyCreationForm::ShrubberyCreationForm(const  ShrubberyCreationForm& other) : AForm(other)
{
	*this = other;
}

ShrubberyCreationForm& ShrubberyCreationForm::operator=(const  ShrubberyCreationForm& other)
{
	if (this != &other)
	{
		this->target = other.target;
	}
	return (*this);
}

void ShrubberyCreationForm::execute(Bureaucrat const & executor) const
{
	if (!this->getSigned())
		throw AForm::FormIsNotSignedException();
	if (executor.getGrade() > this->getExecGrade())
		throw Bureaucrat::GradeTooLowException();

	std::ofstream file;
	file.open(this->target + "_shrubbery");

	file << "                                                                                                    " << std::endl;
	file << "                                       =++==      =+==                                              " << std::endl;
	file << "                                    = +*##*====+-=++#++-:-    - ==                                  " << std::endl;
	file << "                              ---====+++#*+**+*+=====+=====-==++++=                                 " << std::endl;
	file << "                             =*****++*##***++**##**+=++##++***++**++                                " << std::endl;
	file << "                             *+***##****+**#**+*##*+=+=+**#%%###**++                                " << std::endl;
	file << "                             ######***#+++##%#####*+++*+*+#*+*###%#++=                              " << std::endl;
	file << "                         = *+++%@@%#++*#%%%%%%*####++*++=#%%%*#%%*++#*#+                            " << std::endl;
	file << "                        +#**+***%@##%%%%@%%#+######***###%@%%%##*+*+*+##   -+=                      " << std::endl;
	file << "                        #%#%%#%#*%%%%%%%%%##**###**###*#%%###%###*++++====-+*+=                     " << std::endl;
	file << "                    ==   *##*+**#%%%%%%%%#%%*+++=+++++*#%##%%%#++++#+**==+*%%#+-- +-                " << std::endl;
	file << "                 ==+**+++++#%%%%%@%%%%%%#%%*+*********#%%###**++*#######***+*++++=+==-              " << std::endl;
	file << "                 *##*##***#%%%%%%%##%%%%##%#**#*##%%##%#+##*##*#%%#%%%#**#*****==+**+=:             " << std::endl;
	file << "                 #*#%#+##%%%%%%**####*#*#*++*+*#%#%#%#%%%%%%##%#*%%%@*=++==++**#*+++++=-            " << std::endl;
	file << "                *+++*###*#%%%%#**+###*#####%%#*#++++##**#%%#%%%@%#+==++*#*+++####++++**+            " << std::endl;
	file << "                **####%###%#%%%#*#%#%%#%%%%%%*++##*##++++*#*++%#+=+=*##++=+*=+#*+***+**             " << std::endl;
	file << "             +=+*#####%%%%%%%%##%%#%%%%%*#*#%***###*#****+##%#***+*#*++****++=-======               " << std::endl;
	file << "         =- =+#**#%#+*%%%*###***+%##%#*+###%%%%%#*+*##*+++*###****####****##*=+==++=                " << std::endl;
	file << "         +++***####*#%%%#%#####*##%%%%#%%###%##%%##**##*#**%#*##++****%######+*=                    " << std::endl;
	file << "        *****#%#%%%***%%%%#%#####%#*##%%#@@%%+-#%%%%*####%*#%%#**+***%%#%%%#+==--+==                " << std::endl;
	file << "         ***####%%#%##%%%%%%#*##%%##*#%%%%%%%#**@%##%%%%%%%%#**+***++*###%%%#*=+***+==              " << std::endl;
	file << "         *#+++#%%%##+#########**#######%%@%@@%#%%#%%%%%%#%######*##*+*##%#%%***++*++==              " << std::endl;
	file << "           ##+=:*#%##*+++**##*#######%%%%%@%%%%@%%%%%%%%%%%%***+***#*#%%%%%###*****++-              " << std::endl;
	file << "         ***#*#++*#####**#######***##%#%#***#%%%%%%###%%%@%@%%#%####%*##%#*+*####***+=---           " << std::endl;
	file << "         ***######%%##%####*++##%#####***%%%#*##%%%%#%@@@%##%@%###@%@%%%*+==*%%%*#*#++*+=-          " << std::endl;
	file << "         ##*+*##%%%#+#%*%#####*#%%%%%##%%%%%%#*%%%@@@%%%%%%%%#*#@@@@@@@%%**#%%%%%#**++==++==        " << std::endl;
	file << "           +** +##*###%#*+**#%%%%%%###@%%##%%%*+%%%@%@%*%@%%%@@%%%%%@@%##*%%%%%%%###*++=+*+=        " << std::endl;
	file << "           =. **# #%%%##%#%%#*%%#**##@%@#*#%@@@@%%%@%%%%%%%##%%@%@%%%%#%%#%%%##%*%#+=+**            " << std::endl;
	file << "                  ##*#%%%%###%## *  %@@%%++#%@@%%%%@@%=%%#%%%%#%@@%%%%%%%%%%##%%##**++++=           " << std::endl;
	file << "                  #*##%%%#%##*++%#     @@%**#*@@@@%%%*%%+#%%@#%%%##%%#*#%%#%%%#*#+++++++==          " << std::endl;
	file << "                 *#*+##%##**++*#  @#   ###%%##%@@%%%#%#+=#%#*-#**@@@%*#*##==*##****++++=            " << std::endl;
	file << "                  #==-*# *#++*#%%  @@@%##*##@#*%+@%%%%  @@**%#%%#*  #%%#++++*#++*+=*=**=+           " << std::endl;
	file << "                 #****               #=#%#%%%@%#%@%%%  @%%%@  ***##   # ++*+#* #=** +               " << std::endl;
	file << "                                      %*#+    @@@@@%*%@@%*    *+#*      +*#                         " << std::endl;
	file << "                                               @@@@##%#**##                                         " << std::endl;
	file << "                                                @@%#%#**                                            " << std::endl;
	file << "                                                @@##                                                " << std::endl;
	file << "                                                @@#+                                                " << std::endl;
	file << "                                                @@#=                                                " << std::endl;
	file << "                                                @%#=                                                " << std::endl;
	file << "                                                @%#=                                                " << std::endl;
	file << "                                                @%%*                                                " << std::endl;
	file << "                                                @%#*=                                               " << std::endl;
	file << "                                           ###%%%%####****+++++=======-----:::::::::::              " << std::endl;
}